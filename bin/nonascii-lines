#! /usr/bin/env python3

import sys

def check(input, prefix=""):
    for line_no, line in enumerate(input):
        try:
            line.encode("ascii")
        except UnicodeEncodeError as e:
            print(f"{prefix}{line_no + 1}: {line!r} {e}")

def main():
    filenames = sys.argv[1:]
    if filenames:
        for filename in filenames:
            if len(filenames) >= 2:
                prefix = f"{filename}: "
            else:
                prefix = ""
            with open(filename) as input:
                check(input, prefix)
    else:
        check(sys.stdin)

if __name__ == "__main__":
    main()
